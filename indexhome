
<%= DateTime.now.in_time_zone('Eastern Time (US & Canada)').strftime("%A, %B %d") %>
<%= ((@reality_checks_today[2].created_at - @reality_checks_today[1].created_at) /1.minute).round %> minutes
<p><%= @reality_checks_today.count %> reality checks today!</p>
<table>
  <thead>
    <tr>
      <th colspan="3"></th>
    </tr>
  </thead>
  <tbody>
    <% @reality_checks_today.each do |reality_check| %>
      <tr>
        <% @number += 1%>
        <td><%= @number %>. <%=reality_check.created_at.in_time_zone('Eastern Time (US & Canada)').strftime("%I:%M%P")%>
        <!-- Unless it's the last reality check, find the time in between this reality check and the next one-->
    <br><% unless @number == @reality_checks_today.count %>
    <!-- format and display time gap-->
    Time gap:
      <% i=(@reality_checks_today[@number].created_at - @reality_checks_today[@number-1].created_at)%>
<%= i %>
      <% h = (i/1.hour).floor  %>
      <% m = (i/1.minute).floor  %>
      <% s = (i/1.second).round  %>
      <%unless m >= 10%>
      <%m = "0"+m.to_s%>
      <%end%>
      <%unless s >= 10%>
      <%s = "0"+s.to_s%>
      <%end%>
      <%=h%>:<%=m%>:<%= s %>
      <%@time_gaps.push(i)%>
      <%end%>
    <!-- end format and display time gap-->
    </td> </tr>

    <% end %>
    <!-- End Unless it's the last reality check,.... -->
  </tbody>
</table>
<% g=@time_gaps.sort.last%>
<% h = (g/1.hour).floor  %>
<% m = (g/1.minute).floor  %>
<% s = (g/1.second).round  %>
<%unless m >= 10%>
<%m = "0"+m.to_s%>
<%end%>
<%unless s >= 10%>
<%s = "0"+s.to_s%>
<%end%>


<p>Longest time gap: <%=h%>:<%=m%>:<%= s %></p>
